---
# Copyright Yahoo. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.
title: "Configserver Metrics"
---


<table class="table">
    <thead>
        <tr><th>Name</th><th>Description</th><th>Unit</th></tr>
    </thead>
    <tbody>
	<tr>
	  <td><p id="configserver_requests">configserver.requests</p></td>
	  <td>Number of requests processed</td>
	  <td>request</td>
	</tr>
	<tr>
	  <td><p id="configserver_failedRequests">configserver.failedRequests</p></td>
	  <td>Number of requests that failed</td>
	  <td>request</td>
	</tr>
	<tr>
	  <td><p id="configserver_latency">configserver.latency</p></td>
	  <td>Time to complete requests</td>
	  <td>millisecond</td>
	</tr>
	<tr>
	  <td><p id="configserver_cacheConfigElems">configserver.cacheConfigElems</p></td>
	  <td>Time to complete requests</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="configserver_cacheChecksumElems">configserver.cacheChecksumElems</p></td>
	  <td>Number of checksum elements in the cache</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="configserver_hosts">configserver.hosts</p></td>
	  <td>The number of nodes being served configuration from the config server cluster</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="configserver_tenants">configserver.tenants</p></td>
	  <td>The number of tenants being served configuration from the config server cluster</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="configserver_applications">configserver.applications</p></td>
	  <td>The number of applications being served configuration from the config server cluster</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="configserver_delayedResponses">configserver.delayedResponses</p></td>
	  <td>Number of delayed responses</td>
	  <td>response</td>
	</tr>
	<tr>
	  <td><p id="configserver_sessionChangeErrors">configserver.sessionChangeErrors</p></td>
	  <td>Number of session change errors</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_unknownHostRequests">configserver.unknownHostRequests</p></td>
	  <td>Config requests from unknown hosts</td>
	  <td>request</td>
	</tr>
	<tr>
	  <td><p id="configserver_newSessions">configserver.newSessions</p></td>
	  <td>New config sessions</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_preparedSessions">configserver.preparedSessions</p></td>
	  <td>Prepared config sessions</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_activeSessions">configserver.activeSessions</p></td>
	  <td>Active config sessions</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_inactiveSessions">configserver.inactiveSessions</p></td>
	  <td>Inactive config sessions</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_addedSessions">configserver.addedSessions</p></td>
	  <td>Added config sessions</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_removedSessions">configserver.removedSessions</p></td>
	  <td>Removed config sessions</td>
	  <td>session</td>
	</tr>
	<tr>
	  <td><p id="configserver_rpcServerWorkQueueSize">configserver.rpcServerWorkQueueSize</p></td>
	  <td>Number of elements in the RPC server work queue</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="maintenanceDeployment_transientFailure">maintenanceDeployment.transientFailure</p></td>
	  <td>Number of maintenance deployments that failed with a transient failure</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="maintenanceDeployment_failure">maintenanceDeployment.failure</p></td>
	  <td>Number of maintenance deployments that failed with a permanent failure</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkConnectionLost">configserver.zkConnectionLost</p></td>
	  <td>Number of ZooKeeper connections lost</td>
	  <td>connection</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkReconnected">configserver.zkReconnected</p></td>
	  <td>Number of ZooKeeper reconnections</td>
	  <td>connection</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkConnected">configserver.zkConnected</p></td>
	  <td>Number of ZooKeeper nodes connected</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkSuspended">configserver.zkSuspended</p></td>
	  <td>Number of ZooKeeper nodes suspended</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkZNodes">configserver.zkZNodes</p></td>
	  <td>Number of ZooKeeper nodes present</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkAvgLatency">configserver.zkAvgLatency</p></td>
	  <td>Average latency for ZooKeeper requests</td>
	  <td>millisecond</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkMaxLatency">configserver.zkMaxLatency</p></td>
	  <td>Max latency for ZooKeeper requests</td>
	  <td>millisecond</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkConnections">configserver.zkConnections</p></td>
	  <td>Number of ZooKeeper connections</td>
	  <td>connection</td>
	</tr>
	<tr>
	  <td><p id="configserver_zkOutstandingRequests">configserver.zkOutstandingRequests</p></td>
	  <td>Number of ZooKeeper requests in flight</td>
	  <td>request</td>
	</tr>
	<tr>
	  <td><p id="orchestrator_lock_acquire-latency">orchestrator.lock.acquire-latency</p></td>
	  <td>Time to acquire zookeeper lock</td>
	  <td>second</td>
	</tr>
	<tr>
	  <td><p id="orchestrator_lock_acquire-success">orchestrator.lock.acquire-success</p></td>
	  <td>Number of times zookeeper lock has been acquired successfully</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="orchestrator_lock_acquire-timedout">orchestrator.lock.acquire-timedout</p></td>
	  <td>Number of times zookeeper lock couldn't be acquired within timeout</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="orchestrator_lock_acquire">orchestrator.lock.acquire</p></td>
	  <td>Number of attempts to acquire zookeeper lock</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="orchestrator_lock_acquired">orchestrator.lock.acquired</p></td>
	  <td>Number of times zookeeper lock was acquired</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="orchestrator_lock_hold-latency">orchestrator.lock.hold-latency</p></td>
	  <td>Time zookeeper lock was held before it was released</td>
	  <td>second</td>
	</tr>
	<tr>
	  <td><p id="nodes_active">nodes.active</p></td>
	  <td>The number of active nodes in a cluster</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="nodes_nonActive">nodes.nonActive</p></td>
	  <td>The number of non-active nodes in a cluster</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="nodes_nonActiveFraction">nodes.nonActiveFraction</p></td>
	  <td>The fraction of non-active nodes vs total nodes in a cluster</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="nodes_exclusiveSwitchFraction">nodes.exclusiveSwitchFraction</p></td>
	  <td>The fraction of nodes in a cluster on exclusive network switches</td>
	  <td>fraction</td>
	</tr>
	<tr>
	  <td><p id="nodes_emptyExclusive">nodes.emptyExclusive</p></td>
	  <td>The number of exclusive hosts that do not have any nodes allocated to them</td>
	  <td>node</td>
	</tr>
	<tr>
	  <td><p id="cluster_cost">cluster.cost</p></td>
	  <td>The cost of the nodes allocated to a certain cluster, in $/hr</td>
	  <td>dollar/hour</td>
	</tr>
	<tr>
	  <td><p id="cluster_load_ideal_cpu">cluster.load.ideal.cpu</p></td>
	  <td>The ideal cpu load of a certain cluster</td>
	  <td>fraction</td>
	</tr>
	<tr>
	  <td><p id="cluster_load_ideal_memory">cluster.load.ideal.memory</p></td>
	  <td>The ideal memory load of a certain cluster</td>
	  <td>fraction</td>
	</tr>
	<tr>
	  <td><p id="cluster_load_ideal_disk">cluster.load.ideal.disk</p></td>
	  <td>The ideal disk load of a certain cluster</td>
	  <td>fraction</td>
	</tr>
	<tr>
	  <td><p id="zone_working">zone.working</p></td>
	  <td>The value 1 if zone is considered healthy, 0 if not. This is decided by considering the number of non-active nodes vs the number of active nodes in a zone</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="cache_nodeObject_hitRate">cache.nodeObject.hitRate</p></td>
	  <td>The fraction of cache hits vs cache lookups for the node object cache</td>
	  <td>fraction</td>
	</tr>
	<tr>
	  <td><p id="cache_nodeObject_evictionCount">cache.nodeObject.evictionCount</p></td>
	  <td>The number of cache elements evicted from the node object cache</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="cache_nodeObject_size">cache.nodeObject.size</p></td>
	  <td>The number of cache elements in the node object cache</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="cache_curator_hitRate">cache.curator.hitRate</p></td>
	  <td>The fraction of cache hits vs cache lookups for the curator cache</td>
	  <td>fraction</td>
	</tr>
	<tr>
	  <td><p id="cache_curator_evictionCount">cache.curator.evictionCount</p></td>
	  <td>The number of cache elements evicted from the curator cache</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="cache_curator_size">cache.curator.size</p></td>
	  <td>The number of cache elements in the curator cache</td>
	  <td>item</td>
	</tr>
	<tr>
	  <td><p id="wantedRestartGeneration">wantedRestartGeneration</p></td>
	  <td>Wanted restart generation for tenant node</td>
	  <td>generation</td>
	</tr>
	<tr>
	  <td><p id="currentRestartGeneration">currentRestartGeneration</p></td>
	  <td>Current restart generation for tenant node</td>
	  <td>generation</td>
	</tr>
	<tr>
	  <td><p id="wantToRestart">wantToRestart</p></td>
	  <td>One if node wants to restart, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="wantedRebootGeneration">wantedRebootGeneration</p></td>
	  <td>Wanted reboot generation for tenant node</td>
	  <td>generation</td>
	</tr>
	<tr>
	  <td><p id="currentRebootGeneration">currentRebootGeneration</p></td>
	  <td>Current reboot generation for tenant node</td>
	  <td>generation</td>
	</tr>
	<tr>
	  <td><p id="wantToReboot">wantToReboot</p></td>
	  <td>One if node wants to reboot, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="retired">retired</p></td>
	  <td>One if node is retired, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="wantedVespaVersion">wantedVespaVersion</p></td>
	  <td>Wanted vespa version for the node, in the form <MINOR.PATCH>. Major version is not included here</td>
	  <td>version</td>
	</tr>
	<tr>
	  <td><p id="currentVespaVersion">currentVespaVersion</p></td>
	  <td>Current vespa version for the node, in the form <MINOR.PATCH>. Major version is not included here</td>
	  <td>version</td>
	</tr>
	<tr>
	  <td><p id="wantToChangeVespaVersion">wantToChangeVespaVersion</p></td>
	  <td>One if node want to change Vespa version, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="hasWireguardKey">hasWireguardKey</p></td>
	  <td>One if node has a WireGuard key, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="wantToRetire">wantToRetire</p></td>
	  <td>One if node wants to retire, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="wantToDeprovision">wantToDeprovision</p></td>
	  <td>One if node wants to be deprovisioned, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="failReport">failReport</p></td>
	  <td>One if there is a fail report for the node, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="suspended">suspended</p></td>
	  <td>One if the node is suspended, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="suspendedSeconds">suspendedSeconds</p></td>
	  <td>The number of seconds the node has been suspended</td>
	  <td>second</td>
	</tr>
	<tr>
	  <td><p id="numberOfServicesUp">numberOfServicesUp</p></td>
	  <td>The number of services confirmed to be running on a node</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="numberOfServicesNotChecked">numberOfServicesNotChecked</p></td>
	  <td>The number of services supposed to run on a node, that has not checked</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="numberOfServicesDown">numberOfServicesDown</p></td>
	  <td>The number of services confirmed to not be running on a node</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="someServicesDown">someServicesDown</p></td>
	  <td>One if one or more services has been confirmed to not run on a node, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="numberOfServicesUnknown">numberOfServicesUnknown</p></td>
	  <td>The number of services the config server does not know if is running on a node</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="nodeFailerBadNode">nodeFailerBadNode</p></td>
	  <td>One if the node is failed due to being bad, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="downInNodeRepo">downInNodeRepo</p></td>
	  <td>One if the node is registered as being down in the node repository, zero if not</td>
	  <td>binary</td>
	</tr>
	<tr>
	  <td><p id="numberOfServices">numberOfServices</p></td>
	  <td>Number of services supposed to run on a node</td>
	  <td>instance</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_acquireMaxActiveLatency">lockAttempt.acquireMaxActiveLatency</p></td>
	  <td>Maximum duration for keeping a lock, ending during the metrics snapshot, or still being kept at the end or this snapshot period</td>
	  <td>second</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_acquireHz">lockAttempt.acquireHz</p></td>
	  <td>Average number of locks acquired per second the snapshot period</td>
	  <td>operation/second</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_acquireLoad">lockAttempt.acquireLoad</p></td>
	  <td>Average number of locks held concurrently during the snapshot period</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_lockedLatency">lockAttempt.lockedLatency</p></td>
	  <td>Longest lock duration in the snapshot period</td>
	  <td>second</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_lockedLoad">lockAttempt.lockedLoad</p></td>
	  <td>Average number of locks held concurrently during the snapshot period</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_acquireTimedOut">lockAttempt.acquireTimedOut</p></td>
	  <td> Number of locking attempts that timed out during the snapshot period</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_deadlock">lockAttempt.deadlock</p></td>
	  <td>Number of lock grab deadlocks detected during the snapshont period</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="lockAttempt_errors">lockAttempt.errors</p></td>
	  <td>Number of other lock related errors detected during the snapshont period</td>
	  <td>operation</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_totalCapacityCpu">hostedVespa.docker.totalCapacityCpu</p></td>
	  <td>Total number of VCPUs on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>vcpu</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_totalCapacityMem">hostedVespa.docker.totalCapacityMem</p></td>
	  <td>Total amount of memory on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>gigabyte</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_totalCapacityDisk">hostedVespa.docker.totalCapacityDisk</p></td>
	  <td>Total amount of disk space on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>gigabyte</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_freeCapacityCpu">hostedVespa.docker.freeCapacityCpu</p></td>
	  <td>Total number of free VCPUs on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>vcpu</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_freeCapacityMem">hostedVespa.docker.freeCapacityMem</p></td>
	  <td>Total amount of free memory on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>gigabyte</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_freeCapacityDisk">hostedVespa.docker.freeCapacityDisk</p></td>
	  <td>Total amount of free disk space on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>gigabyte</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_allocatedCapacityCpu">hostedVespa.docker.allocatedCapacityCpu</p></td>
	  <td>Total number of allocated VCPUs on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>vcpu</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_allocatedCapacityMem">hostedVespa.docker.allocatedCapacityMem</p></td>
	  <td>Total amount of allocated memory on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>gigabyte</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_allocatedCapacityDisk">hostedVespa.docker.allocatedCapacityDisk</p></td>
	  <td>Total amount of allocated disk space on tenant hosts managed by hosted Vespa in a zone</td>
	  <td>gigabyte</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_breakfixedHosts">hostedVespa.breakfixedHosts</p></td>
	  <td>Number of hosts managed that are breakfixed in a zone</td>
	  <td>host</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_pendingRedeployments">hostedVespa.pendingRedeployments</p></td>
	  <td>The number of hosted Vespa re-deployments pending</td>
	  <td>task</td>
	</tr>
	<tr>
	  <td><p id="hostedVespa_docker_skew">hostedVespa.docker.skew</p></td>
	  <td>A number in the range 0..1 indicating how well allocated resources are balanced with availability on hosts</td>
	  <td>fraction</td>
	</tr>
    </tbody>
</table>
